---
- name: Set up Semaphore server
  hosts: semaphore
  become: true

  roles:
    - role: rsyslog
      tags: logs

    - role: auditd
      tags: audit

    - role: sshd

    - role: sudo

    - role: freeipa_client
      tags: auth

    - role: ca_client
      tags: auth

    - role: prometheus_client
      tags: metrics

    - role: semaphore

    - role: caddy
      tags: web

    - role: aide
      tags: security

    - role: wazuh_agent
      tags: security

    - role: selinux
      tags: security

    - role: serial
      tags: test

    - role: debug
      tags: test

    - role: dnf
      tags: proxy,dnf
