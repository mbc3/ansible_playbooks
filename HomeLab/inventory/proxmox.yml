---
# ansible-inventory -i proxmox.yml --vault-id @prompt --list
# ansible-inventory -i proxmox.yml --ask-vault-pass --list
# ansible-inventory -i proxmox.yml --vault-password-file .vault --list
plugin: community.general.proxmox
url: https://services.localdomain:8006
user: ansible@pve
token_id: ansible
token_secret: !vault |
  $ANSIBLE_VAULT;1.1;AES256
  37356166653238373636616133306431613539393538653433643232323236646135306232373433
  3133623161336264353831396465623164666334616166300a393437366638343933316563396463
  61313561396236646462396137313337666436323334383630323534646639336132616338666133
  6139666563376431640a386337303336333966343639653230303533323966366531323438363563
  34323635386432633338633734353165373936646331646262373239353332653836303231356164
  3533326237363939613265353764393632373336313532613764
validate_certs: true # if tls isn't working, set to false
want_facts: true
want_proxmox_nodes_ansible_host: true
compose:
  # this sets the ansible_host to the container's public IP -- otherwise it would use the hostname to connect
  # I don't need this if I've set up DNS
  # ansible_host: proxmox_lxc_interfaces.1.inet.split('/').0
